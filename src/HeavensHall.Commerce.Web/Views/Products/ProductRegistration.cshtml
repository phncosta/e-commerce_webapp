
<div class="container pt-3" style="min-height: 67vh !important;">

    <h5 class="text-center">Registrar Novo Produto</h5>

    <form method="POST" asp-controller="produtos" asp-action="cadastrar">
        <div class="form-group row">
            <label for="productName" class="col-sm-2 col-form-label">Nome do Produto</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="productName" name="product_name" minlength="3" required>
            </div>
        </div>
        <div class="form-group row">
            <label for="description" class="col-sm-2 col-form-label">Descrição</label>
            <div class="col-sm-10">
                <textarea class="form-control" id="description" name="description" required></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label for="brand" class="col-sm-2 col-form-label">Marca do Produto</label>
            <div class="col-sm-10">
                <textarea class="form-control" id="brand" name="brand_name" required></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label for="category" class="col-sm-2 col-form-label">Categoria</label>
            <div class="col-sm-10">
                <select class="form-select" id="category" name="category_name" required>
                    <option selected>Selecione</option>
                    <option value="Percursão">Percursão</option>
                    <option value="Corda">Corda</option>
                    <option value="Sopro">Sopro</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="rating" class="col-sm-2 col-form-label">Qtd. Estrelas</label>
            <div class="col-sm-10">
                <select class="form-select" id="rating" name="rating" required>
                    <option selected>Selecione</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="quantity" class="col-sm-2 col-form-label">Qtd em Estoque</label>
            <div class="col-sm-10">
                <input type="number" class="form-control" id="quantity" name="quantity" required>
            </div>
        </div>
        <div class="form-group row">
            <label for="price" class="col-sm-2 col-form-label">Preço</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="price" name="price" required>
            </div>
        </div>

        <!-- File Management-->
        <div class="form-group row justify-content-center p-2">
            <input class="attacher mb-3" type="file" id="attacher" style="display: none"
                   onchange="attachFiles(this, 'images', productUniqueImage)">
            <label for="attacher" class="mb-3 btn-outline-dark rounded-pill shadow-sm w-75 p-2 font-weight-bolder text-center"
                   style="font-size: larger; cursor:pointer">
                Anexar Imagem
            </label>
        </div>

        <!-- File List -->
        <div class="text-center">
            <ul class="list-group mb-3" id="list_files"></ul>

            <input type="hidden" value="" name="image_path" id="filePath" />
            <input type="hidden" value="" name="image_base64" id="fileResult" />
        </div>

        <div class="text-center">
            <button type="button" onclick="window.location.href='/produtos/gerenciar'" class="btn btn-outline-dark">Cancelar</button>
            <button type="submit" class="btn btn-primary p-2">Cadastrar</button>
        </div>
    </form>

</div>

<!-- Template List File -->
<template id="product_unique_template">
    <li class="list-group-item py-1 d-flex justify-content-between align-items-center">
        <a href="file.base64" download="file.name">file.name</a>
        <button type="button" onclick="deleteAndCleanFiles(this.parentNode)" class="btn-close-attach">
            X_UNICODE
        </button>
    </li>
</template>

<style>
    #footer {
        bottom: 0;
        position: fixed;
    }
</style>

<script src="/js/file_attach.js"></script>
<script src="/js/show_attached_file.js"></script>
