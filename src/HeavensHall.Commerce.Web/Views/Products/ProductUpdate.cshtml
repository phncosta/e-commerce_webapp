@using HeavensHall.Commerce.Domain.Enums;
@using HeavensHall.Commerce.Application.Extensions.EnumExtensions;
@model HeavensHall.Commerce.Web.Models.ProductModel;

@{
    string status = Model.Is_Active ? Status.Ativar.ToString() : Status.Desativar.ToString();
    string CATEGORY_PERCUSSION = InstrumentCategory.PERCUSSION.GetDescription();
    string CATEGORY_STRING = InstrumentCategory.STRING.GetDescription();
    string CATEGORY_WIND = InstrumentCategory.WIND.GetDescription();
}

<div class="container pt-3">

    <h5 class="text-center">Alterar Produto</h5>

    <form method="POST" asp-controller="produtos" asp-action="alterar">

        <div class="form-group row">
            <label for="productName" class="col-sm-2 col-form-label" asp-for="@Model.Id"></label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="id" name="id" asp-for="@Model.Id" readonly>
            </div>
        </div>
        <div class="form-group row">
            <label for="productName" class="col-sm-2 col-form-label" asp-for="@Model.Name"></label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="productName" name="name" asp-for="@Model.Name">
            </div>
        </div>
        <div class="form-group row">
            <label for="description" class="col-sm-2 col-form-label" asp-for="@Model.Description"></label>
            <div class="col-sm-10">
                <textarea class="form-control" id="description" name="description" asp-for="@Model.Description"></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label for="brand" class="col-sm-2 col-form-label" asp-for="@Model.Brand.Name"></label>

            <div class="col-sm-10">
                <input class="form-control" id="brand" name="brand.name" asp-for="@Model.Brand.Name">
            </div>
        </div>
        <div class="form-group row">
            <label for="category" class="col-sm-2 col-form-label" asp-for="@Model.Category.Name"></label>
            <div class="col-sm-10">
                <select class="form-select" id="category" name="category.name">
                    <option selected value="@Model.Category.Name">@Model.Category.Name</option>
                    @if (@Model.Category.Name != InstrumentCategory.STRING.GetDescription())
                    {
                        <option value="Corda">Corda</option>
                    }
                    @if (@Model.Category.Name != InstrumentCategory.PERCUSSION.GetDescription())
                    {
                        <option value="Percursão">Percursão</option>
                    }
                    @if (@Model.Category.Name != InstrumentCategory.WIND.GetDescription())
                    {
                        <option value="Sopro">Sopro</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="rating" class="col-sm-2 col-form-label" asp-for="@Model.Rating"></label>
            <div class="col-sm-10">
                <select class="form-select" id="rating" name="rating">
                    <option selected value="@Model.Rating">@Model.Rating</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="rating" class="col-sm-2 col-form-label" asp-for="@Model.Is_Active"></label>
            <div class="col-sm-10">
                <select class="form-select" id="status" name="is_active">
                    <option selected value="@Model.Is_Active">@status</option>
                    @if (Model.Is_Active)
                    {
                        <option value="false">@Status.Desativar</option>
                    }
                    else
                    {
                        <option value="true">@Status.Ativar</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="quantity" class="col-sm-2 col-form-label" asp-for="@Model.Stock.Quantity"></label>
            <div class="col-sm-10">
                <input type="number" class="form-control" id="quantity" name="stock.quantity" asp-for="@Model.Stock.Quantity">
            </div>
        </div>
        <div class="form-group row">
            <label for="price" class="col-sm-2 col-form-label" asp-for="@Model.Stock.Price"></label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="price" name="stock.price" asp-for="@Model.Stock.Price">
            </div>
        </div>

        <input type="hidden" value="@Model.Brand.Id" name="brand.id" />
        <input type="hidden" value="@Model.Stock.Id" name="stock.id" />
        <input type="hidden" value="@Model.Category.Id" name="category.id" />

        <div class="form-group row">
            <input class="anexador mb-3" type="file" multiple="multiple" id="anexador" style="display: none"
                   onchange="anexarArquivos(this)">
            <label for="anexador" class="mb-3 bg-orange-button-default rounded-pill shadow-sm w-75 p-2 font-weight-bolder"
                   style="font-size: larger; cursor:pointer">
                Anexar Imagens
            </label>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-primary">Atualizar Produto</button>
        </div>
    </form>

</div>