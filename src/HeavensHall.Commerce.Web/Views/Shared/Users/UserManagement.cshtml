@model IEnumerable<HeavensHall.Commerce.Web.Models.UserModel>;
@using HeavensHall.Commerce.Domain.Enums;

@functions {
    private string GetStatus(bool statusActive) => statusActive ? Status.Desativar.ToString() : Status.Ativar.ToString();
}

<div class="container page-container">

    <table class="table table-hover table-bordered wow fadeInDown">
        <thead class="table-info">
            <tr>
                <th scope="col">Nome do Usuário</th>
                <th scope="col">E-mail</th>
                <th scope="col">Atualizar conta</th>
                <th scope="col">Ativar ou desativar usuário</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.Name</td>
                    <td>@user.Email</td>
                    <td onclick="editUser('@user.Id')" class="text-decoration-underline">Editar</td>
                    <td>@GetStatus(@user.IsActive)</td>
                </tr>
            }
        </tbody>
    </table>

    <!--Pagination-->
    <div class="d-flex justify-content-center wow fadeIn">
        <ul class="pagination">

            <!--Arrow left -->
            <li class="page-item" id="previous-page">
                <a class="page-link" onclick="increaseOrDecreasePageBy(-1)">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>
            <li class="page-item" id="page-selectable-1">
                <a class="page-link" href="usuarios/pagina?num=1">
                    1
                </a>
            </li>
            <li class="page-item" id="page-selectable-2">
                <a class="page-link" href="usuarios/pagina?num=2">
                    2
                </a>
            </li>
            <li class="page-item" id="page-selectable-3">
                <a class="page-link" href="usuarios/pagina?num=3">
                    3
                </a>
            </li>
            <li class="page-item" id="page-selectable-4">
                <a class="page-link" href="usuarios/pagina?num=4">
                    4
                </a>
            </li>
            <li class="page-item" id="page-selectable-5">
                <a class="page-link" href="usuarios/pagina?num=5">
                    5
                </a>
            </li>

            <!-- Arrow Right -->
            <li class="page-item" id="next-page">
                <a class="page-link" onclick="increaseOrDecreasePageBy(1)">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
        </ul>
    </div>

</div>

<script>
    const editUser = id => window.location.href = `/produtos/alterar?id=${id}`;
</script>